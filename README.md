# ğŸš€ Advanced Scraper MCP

[![MIT License](https://img.shields.io/badge/License-MIT-green.svg)](https://choosealicense.com/licenses/mit/)
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![Node.js](https://img.shields.io/badge/Node.js-43853D?logo=node.js&logoColor=white)](https://nodejs.org/)

**é«˜æ©Ÿèƒ½ãªWebã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°MCPã‚µãƒ¼ãƒãƒ¼** - Model Context Protocol (MCP) å¯¾å¿œ

åŸºæœ¬çš„ãªHTTPã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‹ã‚‰ã€JavaScriptå®Ÿè¡ŒãŒå¿…è¦ãªå‹•çš„ã‚µã‚¤ãƒˆã¾ã§å¯¾å¿œã—ãŸã€TypeScriptè£½ã®é«˜æ€§èƒ½ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

## âœ¨ ç‰¹å¾´

### ğŸ”§ Simple Scrape
- âš¡ **é«˜é€Ÿè»½é‡**: åŸºæœ¬çš„ãªHTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹
- ğŸ“„ **é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„**: HTML/CSS/ãƒ†ã‚­ã‚¹ãƒˆæŠ½å‡º
- ğŸ¯ **CSSã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼**: ç²¾å¯†ãªè¦ç´ æŠ½å‡º
- ğŸ›¡ï¸ **å‹å®‰å…¨**: TypeScriptå®Œå…¨å¯¾å¿œ

### ğŸš€ Puppeteer Scrape
- ğŸŒ **JavaScriptå®Ÿè¡Œ**: å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å®Œå…¨å¯¾å¿œ
- ğŸ“± **SPAå¯¾å¿œ**: React/Vue/Angularã‚¢ãƒ—ãƒª
- ğŸ“¸ **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ**: é«˜å“è³ªç”»åƒã‚­ãƒ£ãƒ—ãƒãƒ£
- ğŸ–±ï¸ **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**: ã‚¯ãƒªãƒƒã‚¯ãƒ»å…¥åŠ›ãƒ»ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
- â±ï¸ **å¾…æ©Ÿåˆ¶å¾¡**: è¦ç´ ãƒ»æ™‚é–“ãƒ™ãƒ¼ã‚¹å¾…æ©Ÿ
- ğŸ”’ **ãƒ—ãƒ­ã‚­ã‚·å¯¾å¿œ**: HTTP/HTTPS/SOCKS ãƒ—ãƒ­ã‚­ã‚·ã‚µãƒãƒ¼ãƒˆ

### ğŸ“¦ Batch Scrape
- ğŸ”„ **ä¸€æ‹¬å‡¦ç†**: è¤‡æ•°URLã®åŒæ™‚ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
- âš¡ **ä¸¦è¡Œåˆ¶å¾¡**: ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªåŒæ™‚å®Ÿè¡Œæ•°
- ğŸ” **ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½**: è‡ªå‹•ã‚¨ãƒ©ãƒ¼å›å¾©
- â±ï¸ **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“éš”ã®èª¿æ•´
- ğŸ“Š **é€²æ—è¡¨ç¤º**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†çŠ¶æ³

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-username/advanced-scraper-mcp.git
cd advanced-scraper-mcp

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# TypeScriptã‚’ãƒ“ãƒ«ãƒ‰
npm run build
```

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```bash
# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ï¼‰
npm run dev

# æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰
npm start
```

## ğŸ”§ Claude Desktop è¨­å®š

Claude Desktop ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

**Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
**macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "advanced-scraper": {
      "command": "node",
      "args": ["path/to/advanced-scraper-mcp/dist/index.js"]
    }
  }
}
```

## ğŸ“– ä½¿ç”¨ä¾‹

### åŸºæœ¬çš„ãªã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°

```
simple_scrape ã‚’ä½¿ç”¨ã—ã¦ https://example.com ã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
```

### ç‰¹å®šè¦ç´ ã®æŠ½å‡º

```
simple_scrape ã§ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—:
- URL: https://news.ycombinator.com
- selector: .titleline > a
- format: text
```

### JavaScriptå¿…é ˆã‚µã‚¤ãƒˆ

```
puppeteer_scrape ã§å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—:
- URL: https://spa-example.com
- waitFor: 3000
- format: text
```

### ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆæ’®å½±

```
puppeteer_scrape ã§ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ:
- URL: https://example.com
- format: screenshot
- viewport: { width: 1920, height: 1080 }
```

### ãƒ•ã‚©ãƒ¼ãƒ æ“ä½œ

```
puppeteer_scrape ã§ãƒ­ã‚°ã‚¤ãƒ³:
- URL: https://example.com/login
- actions:
  - { type: "type", selector: "#username", text: "user" }
  - { type: "type", selector: "#password", text: "pass" }
  - { type: "click", selector: "#submit" }
- waitFor: 2000
```

### ãƒ—ãƒ­ã‚­ã‚·ä½¿ç”¨

```
simple_scrape ã§ãƒ—ãƒ­ã‚­ã‚·çµŒç”±ã‚¢ã‚¯ã‚»ã‚¹:
- URL: https://example.com
- proxy:
  - server: "proxy.example.com:8080"
  - username: "proxyuser"
  - password: "proxypass"
  - type: "http"
```

### ä¸€æ‹¬ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°

```
batch_scrape ã§è¤‡æ•°ã‚µã‚¤ãƒˆã‚’ä¸€æ‹¬å‡¦ç†:
- urls: ["https://site1.com", "https://site2.com", "https://site3.com"]
- selector: "h1"
- concurrency: 3
- delay: 1000
- maxRetries: 2
- timeout: 30
```

## ğŸ› ï¸ API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### simple_scrape

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|---|------|------|
| `url` | string | âœ… | ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å¯¾è±¡URL |
| `selector` | string | âŒ | CSSã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ |
| `format` | `"text"` \| `"html"` | âŒ | å‡ºåŠ›å½¢å¼ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: "text"ï¼‰ |

### puppeteer_scrape

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|---|------|------|
| `url` | string | âœ… | ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å¯¾è±¡URL |
| `selector` | string | âŒ | CSSã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ |
| `format` | `"text"` \| `"html"` \| `"screenshot"` | âŒ | å‡ºåŠ›å½¢å¼ |
| `waitFor` | number | âŒ | å¾…æ©Ÿæ™‚é–“ï¼ˆãƒŸãƒªç§’ï¼‰ |
| `waitForSelector` | string | âŒ | è¦ç´ ã®èª­ã¿è¾¼ã¿å¾…æ©Ÿ |
| `headless` | boolean | âŒ | ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰ |
| `viewport` | object | âŒ | ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã‚µã‚¤ã‚º |
| `actions` | array | âŒ | å®Ÿè¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
| `proxy` | object | âŒ | ãƒ—ãƒ­ã‚­ã‚·è¨­å®š |

### batch_scrape

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|---|------|------|
| `urls` | string[] | âœ… | ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å¯¾è±¡URLé…åˆ— |
| `selector` | string | âŒ | CSSã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ |
| `format` | `"text"` \| `"html"` | âŒ | å‡ºåŠ›å½¢å¼ |
| `concurrency` | number | âŒ | ä¸¦è¡Œæ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3ï¼‰ |
| `delay` | number | âŒ | ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“é…å»¶ï¼ˆãƒŸãƒªç§’ï¼‰ |
| `maxRetries` | number | âŒ | æœ€å¤§ãƒªãƒˆãƒ©ã‚¤å›æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 2ï¼‰ |
| `timeout` | number | âŒ | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆç§’ï¼‰ |
| `proxy` | object | âŒ | ãƒ—ãƒ­ã‚­ã‚·è¨­å®š |

### ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ç¨®é¡

| ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | å¿…é ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | ã‚ªãƒ—ã‚·ãƒ§ãƒ³ | èª¬æ˜ |
|-----------|---------------|-----------|------|
| `click` | `selector` | `delay` | è¦ç´ ã‚’ã‚¯ãƒªãƒƒã‚¯ |
| `type` | `selector`, `text` | `delay` | ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ› |
| `wait` | - | `delay` | æ™‚é–“å¾…æ©Ÿ |
| `scroll` | - | `delay` | ãƒšãƒ¼ã‚¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« |

### ãƒ—ãƒ­ã‚­ã‚·è¨­å®š

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|---|------|------|
| `server` | string | âœ… | ãƒ—ãƒ­ã‚­ã‚·ã‚µãƒ¼ãƒãƒ¼ï¼ˆä¾‹: proxy.example.com:8080ï¼‰ |
| `username` | string | âŒ | èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼å |
| `password` | string | âŒ | èªè¨¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ |
| `type` | `"http"` \| `"https"` \| `"socks4"` \| `"socks5"` | âŒ | ãƒ—ãƒ­ã‚­ã‚·ã‚¿ã‚¤ãƒ—ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: "http"ï¼‰ |

## ğŸ—ï¸ é–‹ç™º

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
advanced-scraper-mcp/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.ts          # ãƒ¡ã‚¤ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”œâ”€â”€ dist/                 # ãƒ“ãƒ«ãƒ‰å‡ºåŠ›
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ index.d.ts
â”œâ”€â”€ package.json          # ä¾å­˜é–¢ä¿‚ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ tsconfig.json         # TypeScriptè¨­å®š
â”œâ”€â”€ LICENSE               # MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹
â””â”€â”€ README.md            # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
npm run build     # TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
npm run dev       # é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ï¼‰
npm start         # æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰
npm run clean     # ãƒ“ãƒ«ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤
```

### é–‹ç™ºç’°å¢ƒè¦ä»¶

- **Node.js**: 18.0.0 ä»¥ä¸Š
- **TypeScript**: 5.0 ä»¥ä¸Š
- **OS**: Windows, macOS, Linux

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- âœ… ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹åŒ–ã•ã‚ŒãŸãƒ–ãƒ©ã‚¦ã‚¶å®Ÿè¡Œ
- âœ… é©åˆ‡ãªUser-Agentè¨­å®š
- âœ… ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã¨ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
- âš ï¸ è²¬ä»»ã‚ã‚‹ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„

## âš ï¸ åˆ¶é™äº‹é …

### Simple Scrape
- JavaScriptã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“
- é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã¿å¯¾å¿œ

### Puppeteer Scrape
- é«˜ã„ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡
- åˆå›èµ·å‹•æ™‚ã®Chromiumãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- ä¸€éƒ¨ã®CAPTCHAä¿è­·ã‚µã‚¤ãƒˆã§ã¯åˆ¶é™ã‚ã‚Š

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](LICENSE) ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ™ è¬è¾

- [Model Context Protocol](https://modelcontextprotocol.io/) - MCPãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- [Puppeteer](https://pptr.dev/) - ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•åŒ–
- [Cheerio](https://cheerio.js.org/) - ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰jQuery
- [TypeScript](https://www.typescriptlang.org/) - å‹å®‰å…¨ãªJavaScript

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- ğŸ› **ãƒã‚°å ±å‘Š**: [Issues](https://github.com/your-username/advanced-scraper-mcp/issues)
- ğŸ’¡ **æ©Ÿèƒ½è¦æœ›**: [Issues](https://github.com/your-username/advanced-scraper-mcp/issues)
- ğŸ“§ **ãã®ä»–**: your.email@example.com

---

â­ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå½¹ã«ç«‹ã£ãŸå ´åˆã¯ã€ã‚¹ã‚¿ãƒ¼ã‚’ã¤ã‘ã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ï¼
